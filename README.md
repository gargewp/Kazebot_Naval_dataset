# Kazebot_Naval_dataset

  - Dataset of YouTube comments for 4 channels
  - Collecting scripts
  - API keys in all scripts are broken



> В свете недавних событий стало интересно сравнить активные аудитории Каца и Навального, лучше всего (как показалось) сравнивать комментарии к видео в наиболее релевантный период: с 1 мая по 26 июня. 
## Таблицы с данными

Все таблицы в формате *csv*, всего комментариев 798749. 

### Таблицы с видеозаписями по каждому каналу

В папке `RawChannelVideos` содержатся **таблицы с перечислением видео** по 4-м каналам по которым проводился скан. 
| Поле | Смысл |
| ------ | ------ |
| id | Id видеозапси |
| title | Название видеозапси |
| publishedAt | Время публикации в формате %Y-%m-%dT%H:%M:%SZ |
| channelTitle | Название YouTube-канала |
| viewCount | Количество просмотров |
| likeCount | Количество лайков видео |
| dislikeCount | Количество дизлайков  |
| commentCount | Количество комментариев (с учётом реплаев) |

### Таблицы с комментариями по каждому видео

В папке `RawComments` содержатся **таблицы с комментариями** к видеозаписям из таблицы `videos_to_analyze.csv`. 
Комментарии собирались 03.07.2020 с *13:53* по *17:00* по MSK. 
| Поле | Смысл |
| ------ | ------ |
| id | Id комментария, реплай имеет id с точкой |
| videoId | Id видео, под которым оставлен комментарий |
| authorVideoName | Название YouTube-канала, под которым оставлен коммент  |
| totalReplyCount | Количество ответов на комментарий (если он верхнего уровня) |
| likeCount | Количество лайков на комментарии |
| authorDisplayName | Имя автора комментария |
| textDisplay | Текст комментария (Plain Text)  |
| publishedAt |  Время публикации в формате %Y-%m-%dT%H:%M:%SZ  |
| isReply |  Является ли коммент реплаем: 0 - коммент верхнего уровня, 1 - реплай  |

### Вспомогательные таблицы
 - `videos_to_analyze.csv` - таблица с видео, комментарии к которым следует скачать 
 - `videos_to_analyze_filtered.csv` - таблица с видео, комментарии к которым уже скачали

## Скрипты-коллекторы

 - `01_VideoCollector.ipynb` - выгружает и сохраняет списки видео в указанных каналах, создает общий список видео для последующей выгрузки комментариев
 - `02_CommentsCollector.ipynb` - по спискам видео выгружает и сохраняет все комментарии для указанного списка видео
 - `03_ConsistencyCheck.ipynb` - проверяет скаченные комментарии на соответствие желаемому списку видео, создаёт отфильтрованный список видео
 - `scanning_lib.py` - взаимодействие с YouTube Data API v3
